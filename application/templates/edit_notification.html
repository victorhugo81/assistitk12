{% extends 'base.html' %}
{% block content %}


    <!-- main content card -->
<div class="row">
    <div class="col-12">        
        <div class="main-card-box card my-4">
        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
          <div class="bg-gradient-main shadow-dark border-radius-lg pt-4 pb-3">
            <h1 class="text-white text-capitalize ps-3">Edit Notification</h1>
          </div>
        <div class="card-body px-0 pb-2">
            <br>
            <div class="row">
                <div class="col"></div>
                <div class="col-md-auto"></div>
    <!-- pause main content card -->




            
    <!-- form -->
    <div class="card-body align-items-center"  style="margin-top:-50px;">
        <div class="container-md align-items-center">

            <form method="POST" action="{{ url_for('routes.edit_notification', notification_id=notification.id) }}">
                {{ form.hidden_tag() }}
                <div class="input-group input-group-outline my-3">
                    {{ form.msg_name.label(class="form-label") }}
                    {{ form.msg_name(class="form-control") }}
                </div>
                <div class="input-group input-group-outline my-3">
                    {{ form.msg_content.label(class="form-label") }}
                    {{ form.msg_content(class="form-control", style="height: 100px") }}
                </div>

                
                <div class="form-check form-switch my-3">
                    <input 
                        class="form-check-input" 
                        type="checkbox" 
                        id="msg_status" 
                        name="msg_status"
                        {% if notification.msg_status == 'Active' %}checked{% endif %}
                        onchange="updateStatusLabel()">
                    <label class="form-check-label" id="statusLabel" for="msg_status">
                        {{ 'Active' if notification.msg_status == 'Active' else 'Inactive' }}
                    </label>
                </div>
                

                <div class="input-group input-group-outline justify-content-end gap-2">
                    {{ form.submit(class="btn bg-gradient-main")}}
                    <a type="button" class="btn reset-button-box shadow-dark" href="/notifications">Back</a>
                    
                </div>
            </form>
            <p>All other messages should be <strong>"Inactive"</strong> before you can <strong>"Activate"</strong> a new message.</p>
            
</div>
</div>
<!-- End form -->




<!-- continue main content card -->
</div>
</div>
</div>
</div>
<!-- End main content card -->

<!-- tottle button -->
<script>
    function updateStatusLabel() {
        const checkbox = document.getElementById('msg_status');
        const label = document.getElementById('statusLabel');
        label.textContent = checkbox.checked ? 'Active' : 'Inactive';
    }
    </script>

{% endblock %}



